<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>X | Blog</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="layui/css/layui.css">
	<link rel="stylesheet" href="static/css/mian.css">
</head>

<body class="lay-blog">
	<div class="header">
		<div class="header-wrap">
			<h1 class="logo pull-left">
				<a href="index.html">
					<img src="static/images/image-logo.png" alt="" class="image-logo" style="width: 75px;">
					<img src="static/images/logo-text.png" alt="" class="logo-text" style="width: 90px; margin-top: 24px;">
				</a>
			</h1>
			<div class="blog-nav pull-right">
				<ul class="layui-nav pull-left">
					<li class="layui-nav-item">
						<a href="index.html">首页</a>
					</li>
					<li class="layui-nav-item  layui-this">
						<a href="message.html">留言</a>
					</li>
					<li class="layui-nav-item">
						<a href="about.html">关于</a>
					</li>
				</ul>
			</div>
			<div class="mobile-nav pull-right" id="mobile-nav">
				<a href="javascript:;">
					<i class="layui-icon layui-icon-more"></i>
				</a>
			</div>
		</div>
		<ul class="pop-nav" id="pop-nav">
			<li>
				<a href="index.html">首页</a>
			</li>
			<li>
				<a href="message.html">留言</a>
			</li>
			<li>
				<a href="about.html">关于</a>
			</li>
		</ul>
	</div>
	<div class="container-wrap">
		<div class="container container-message">
			<div class="contar-wrap" id="contar-wrap">
				<form class="layui-form" action="">
					<div class="layui-form-item layui-form-text">
						<textarea class="layui-textarea" id="LAY-msg-content" style="resize:none"></textarea>
					</div>
				</form>
				<div class="item-btn">
					<button class="layui-btn layui-btn-normal" id="item-btn">提交</button>
				</div>

				<div id="LAY-msg-box">
					<div class="info-box">
						<!-- <div class="info-item">
								<img class="info-img" src="static/images/info-img.png" alt="">
								<div class="info-text">
									<p class="title count">
										<span class="name">一片空白</span>
										<span class="info-img like"><i class="layui-icon layui-icon-praise"></i>5.8万</span>
									</p>
									<p class="info-intr">父爱如山，不善表达。回想十多年前，总记得父亲有个宽厚的肩膀，小小的自己跨坐在上面，越过人山人海去看更广阔的天空，那个时候期望自己有一双翅膀，能够像鸟儿一样飞得高，看得远。虽然父亲有时会和自己开玩笑，但在做错事的时候会受到严厉的训斥。父亲有双粗糙的大手掌。</p>
								</div>
							</div> -->
					</div>
				</div>

				<!-- <div id="test1" class="paging"></div> -->
			</div>
		</div>
	</div>
	<div class="footer">
		<p>
			<span>&copy; 2018</span>
			<span>
				<a href="http://www.layui.com" target="_blank">layui.com</a>
			</span>
			<span>MIT license</span>
		</p>
		<p>
			<span>人生就是一场修行</span>
		</p>
	</div>
	</div>
	<iframe id="urlIframe" src="https://github.com/login/oauth/access_token"></iframe>
	<style id="antiClickjack">
		body {
			display: none !important;
		}
	</style>
	<script>
		if (self === top) {
			var antiClickjack = document.getElementById("antiClickjack");
			antiClickjack.parentNode.removeChild(antiClickjack);
		} else {
			top.location = self.location;
		}
	</script>
	<script src="layui/layui.js">

	</script>
	<script>		
		layui.config({
			base: 'static/js/'
		}).use('blog');
	</script>

	<script id="LAY-msg-tpl" type="text/html">
		<div class="info-box">
			<div class="info-item">
				<!-- <img class="info-img" src="{{ d.avatar }}" alt=""> -->
				<img class="info-img" src="static/images/image-logo.png" alt="" style="width: 68px;">
			  <div class="info-text">
					<p class="title">
					  <!-- <span class="name">{{ d.username }}</span> -->
					  <span class="name">游客甲</span>
					  <!-- <span class="info-img">
					  	<i class="layui-icon layui-icon-praise"></i>
					  	{{ d.praise }}
						 </span> -->
						 
					</p>
					<p class="info-intr" style="word-wrap: break-word;">
						{{ d.content }}
					</p>
			  </div>
			</div>
		</div>
	</script>
	<script>
		// 页面加载完后才能获取dom节点（iframe）
		window.onload = function () {
			// 向目标源发送数据
			document.getElementsByTagName('iframe')[0].contentWindow.postMessage(
				{ "client_id": "5315dcce3ae5dc901d87", "client_secret": "f0365766e4d3129f1c59101e9033555704956c27", "code": "8fe95f4179c7b63e92d5" },
				'https://github.com/login/oauth/access_token');
		};

		// 监听有没有数据发送过来
		window.addEventListener('message', function (e) {
			console.log(e);
		});
		layui.use('jquery', function () {
			var $ = layui.$;
			$(function () {
				//getTotalPV();
				// if(getParam("code") != null){
				// $.support.cors = true;
				// $.ajax({
				// 	type: "GET",
				// 	url: "https://github.com/login/oauth/access_token?client_id=5315dcce3ae5dc901d87&client_secret=f0365766e4d3129f1c59101e9033555704956c27&code=93b6caf35607b79dce23",
				// 	//data: { "client_id": "5315dcce3ae5dc901d87", "client_secret": "f0365766e4d3129f1c59101e9033555704956c27", "code": "a89af1a992824b8cd04c" },
				// 	dataType: "jsonp",
				// 	jsonpCallback: "onBack",    // 自定义回调函数名
				// 	success: function (data) {
				// 		console.log(data);
				// 	}
				// });
				// }
			});
			/** 
			 * 获取指定的URL参数值 
			 * URL:http://www.quwan.com/index?name=tyler 
			 * 参数：paramName URL参数 
			 * 调用方法:getParam("name") 
			 * 返回值:tyler 
			 */
			function getParam(paramName) {
				paramValue = "", isFound = !1;
				if (this.location.search.indexOf("?") == 0 && this.location.search.indexOf("=") > 1) {
					arrSource = unescape(this.location.search).substring(1, this.location.search.length).split("&"), i = 0;
					while (i < arrSource.length && !isFound) arrSource[i].indexOf("=") > 0 && arrSource[i].split("=")[0].toLowerCase() == paramName.toLowerCase() && (paramValue = arrSource[i].split("=")[1], isFound = !0), i++
				}
				return paramValue == "" && (paramValue = null), paramValue
			}
		}
		)
	</script>
</body>